# Qonfido – Data Analytics Intern Assignment

## Objective
Collect, consolidate, and automate mutual fund portfolio data from public sources into a clean, reusable CSV format.  

---

## Data Model & Assumptions

**Columns included:**

| Column Name                       | Description |
|-----------------------------------|-------------|
| `AMC Name`                         | Name of the Asset Management Company |
| `Scheme Name`                      | Mutual Fund scheme name |
| `Name of the Instrument`           | Security / instrument name |
| `ISIN`                             | ISIN of the instrument (if available) |
| `Rating`                           | Credit rating (if applicable) |
| `Quantity`                          | Number of units / bonds held |
| `Market/Fair Value (Rs. in Lakhs)` | Market value of holdings (numeric) |
| `% to Net Assets`                   | Percent of scheme NAV (numeric) |
| `Industry / Rating`                | Industry or rating details |
| `Reporting Date`                   | Extracted from filename (YYYY-MM-DD) |

**Assumptions:**

- Rows with **both Market Value and % of Portfolio = 0** are removed.  
- Rows where numeric conversion fails for these two columns are removed.  
- First row in Excel sheets is used as header.  
- Extra empty rows or columns are automatically removed.  

---

## Automation Approach

1. **Download**

   - `download.py` fetches the latest Axis MF monthly portfolio Excel files from [Axis MF statutory disclosures API](https://www.axismf.com/statutory-disclosures).  
   - Filters files by **month and year** and only downloads **Consolidated** sheets.  
   - Saves files to `data/raw/`.  

2. **Parsing & Normalization**

   - `parser.py`:
     - Skips the Index sheet  
     - Reads each scheme sheet starting at row 4 (`header=3`)  
     - Drops the first junk column  
     - Adds `AMC Name` and `Scheme Name`  
     - Saves intermediate CSVs to `data/processed/`  

   - `normalize.py`:
     - Drops empty rows and columns  
     - Converts `Market/Fair Value` and `% to Net Assets` to numeric  
     - Replaces `$0.00%` → `0.00`  
     - Drops rows where both numeric columns are 0  
     - Extracts `Reporting Date` from filename  
     - Saves normalized CSVs to `output/`  

3. **Consolidation**
   - All processed CSVs are saved individually in `output/`.  
   - A final consolidated CSV can be generated by merging all files if needed.  

---

## Steps to Run

  - pip install -r requirements.txt
  - python main.py
